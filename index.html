<html>
<head>
    <title>Разные года одной жизни</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <link href="https://fonts.googleapis.com/css?family=Amatic+SC" rel="stylesheet">
    <style type="text/css">
        body, pre {
            background-color: black;
            color: white;
            font-family: 'Amatic SC', cursive;
        }

        pre {
            display: inline-block;
            margin: 20px;
            vertical-align: top;
            font-size: 200%;
        }

        pre.small {
            color: #666666;
            font-size: 90%;
            cursor: pointer;
        }

        pre.mini {
            color: #333333;
            font-size: 40%;
            cursor: pointer;
        }

        #main {
            width: 80%;
            display: block;
            margin-left: auto;
            margin-right: auto;
            margin-top: 20px;
        }
    </style>
    <script type="text/javascript" src="poems.js"></script>
    <script type="text/javascript">
        function getTodayIndex() {
            var now = new Date();
            var diff = now - new Date(now.getFullYear(), 0, 0);
            var today = Math.floor(diff / (1000 * 60 * 60 * 24));
            var i;
            for (i = 0; i < days.length; i++) {
                if (days[i] >= today) {
                    return i;
                }
            }
            return 0;
        }

        function checkBounds(i) {
            if (i < 0) return poems.length - 1;
            if (i > poems.length - 1) return 0;
            return i;
        }

        function doIt(i) {
            var minus1 = checkBounds(i - 1);
            var minus2 = checkBounds(minus1 - 1);
            var plus1 = checkBounds(i + 1);
            var plus2 = checkBounds(plus1 + 1);
            var s = '<nobr>';
            s += '<pre onclick="doIt(' + minus2 + ');" class="mini">' + poems[minus2] + '</pre>';
            s += '<pre onclick="doIt(' + minus1 + ');" class="small">' + poems[minus1] + '</pre>';
            s += '<pre>' + poems[i] + '</pre>';
            s += '<pre onclick="doIt(' + plus1 + ');" class="small">' + poems[plus1] + '</pre>';
            s += '<pre onclick="doIt(' + plus2 + ');" class="mini">' + poems[plus2] + '</pre>';
            s += '</nobr>';
            document.getElementById("main").innerHTML = s;
        }
    </script>
</head>
<body>
<div id="main"></div>
<script type="text/javascript">doIt(getTodayIndex());</script>
</body>
</html>
